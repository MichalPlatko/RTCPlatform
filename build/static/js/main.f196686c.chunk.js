(this.webpackJsonprtcplatform=this.webpackJsonprtcplatform||[]).push([[0],{103:function(e,t,s){},104:function(e,t,s){},111:function(e,t,s){},115:function(e,t,s){},117:function(e,t,s){},118:function(e,t,s){},119:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),c=s(14),r=s.n(c),o=(s(103),s(153)),i=s(30),l=s(24),j=s(36),u=s(35),b=(s(104),s(147)),d=s(156),m=s(157),h=s(72),O=s.n(h),p=s(4),x=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"leftsidebar",children:[Object(p.jsx)(b.a,{size:"medium",children:Object(p.jsx)(O.a,{})}),Object(p.jsx)(f,{}),Object(p.jsx)(f,{}),Object(p.jsx)(f,{}),Object(p.jsx)(f,{}),Object(p.jsx)(f,{}),Object(p.jsx)(f,{}),Object(p.jsx)(f,{})]})}}]),s}(n.a.Component),f=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"serverAvatar",children:Object(p.jsx)(d.a,{title:"Server Name",placement:"right",children:Object(p.jsx)(m.a,{})})})}}]),s}(n.a.Component),v=x,g=s(27),N=(s(111),s(64)),I=s.n(N),y=s(77),C=s.n(y),_=s(78),P=s.n(_),k=s(80),S=s.n(k),w=s(79),A=s.n(w),D=s(81),H=s.n(D),L=s(82),z=s.n(L),B=s(83),E=s.n(B),T=s(32),M=s(48),V=Object(M.b)({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),F=V.actions,W=F.login,K=F.logout,U=function(e){return e.user.user},J=V.reducer,R=s(50),Z=R.a.initializeApp({apiKey:"AIzaSyB2x8ouCyhjn1HDdZ3WSu1CXU83Tvz-HTk",authDomain:"rtcplatform-8caa4.firebaseapp.com",projectId:"rtcplatform-8caa4",storageBucket:"rtcplatform-8caa4.appspot.com",messagingSenderId:"403528315216",appId:"1:403528315216:web:83b9d24d87dec76fad7c55"}).firestore(),G=R.a.auth(),X=new R.a.auth.GoogleAuthProvider,q=Z,Q=Object(M.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,t){e.channelId=t.payload.channelId,e.channelName=t.payload.channelName}}}),Y=Q.actions.setChannelInfo,$=function(e){return e.app.channelId},ee=function(e){return e.app.channelName},te=Q.reducer,se=s(59),ae=s.n(se);function ne(e){var t=e.photo,s=e.userName,a=e.tag;return Object(p.jsxs)("div",{className:"sidebar_profile",children:[Object(p.jsx)(m.a,{className:"sidebar_profileAvatar",src:t}),Object(p.jsxs)("div",{className:"sidebar_profileInfo",children:[Object(p.jsx)("h3",{children:s}),Object(p.jsxs)("p",{children:["#",a.substring(0,5)," "]})]}),Object(p.jsxs)("div",{className:"sidebar_profileIcons",children:[Object(p.jsx)(H.a,{}),Object(p.jsx)(z.a,{}),Object(p.jsx)(E.a,{})]})]})}function ce(e){var t=e.id,s=e.name,a=Object(T.b)();return Object(p.jsx)("div",{className:"sidebarChannel",onClick:function(){a(Y({channelId:t,channelName:s}))},children:Object(p.jsxs)("h4",{children:[Object(p.jsx)("span",{className:"sidebarChannelHashIcon",children:"#"}),s]})})}var re=function(){var e=Object(T.c)(U),t=Object(a.useState)([]),s=Object(g.a)(t,2),n=s[0],c=s[1];return Object(a.useEffect)((function(){q.collection("channels").onSnapshot((function(e){c(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),Object(p.jsxs)("div",{className:"sidebar",children:[Object(p.jsxs)("div",{className:"sidebar_top",children:[Object(p.jsx)("h3",{children:"Server Name"}),Object(p.jsx)(I.a,{className:"sidebar_expand"})]}),Object(p.jsxs)("div",{className:"sidebar_channels",children:[Object(p.jsxs)("div",{className:"sidebar_channelsHeader",children:[Object(p.jsxs)("div",{className:"sidebar_header",children:[Object(p.jsx)(I.a,{}),Object(p.jsx)("h4",{children:"Text Channels"})]}),Object(p.jsx)(C.a,{onClick:function(){var e=prompt("Add Channel Name (20Characters maximum)");e&&e.length<20&&q.collection("channels").add({name:ae.a.sanitize(e)})},className:"sidebar_addChannel"})]}),Object(p.jsx)("div",{className:"sidebar_channelsList",children:n.map((function(e){return Object(p.jsx)(ce,{id:e.id,name:e.channel.name},e.id)}))})]}),Object(p.jsxs)("div",{className:"sidebar_voice",children:[Object(p.jsx)(P.a,{className:"sidebar_voiceIcon"}),Object(p.jsxs)("div",{className:"sidebar_voiceInfo",children:[Object(p.jsx)("h3",{children:"Voice Connected"}),Object(p.jsx)("p",{children:"Channel name"})]}),Object(p.jsxs)("div",{className:"sidebar_voiceControl",children:[Object(p.jsx)(A.a,{}),Object(p.jsx)(S.a,{})]})]}),Object(p.jsx)(ne,{photo:e.photo,userName:e.displayName,tag:e.uid})]})},oe=(s(115),s(154)),ie=s(84),le=s.n(ie),je=s(85),ue=s.n(je),be=s(88),de=s.n(be),me=s(87),he=s.n(me),Oe=s(86),pe=s.n(Oe);function xe(){var e=Object(a.useState)(""),t=Object(g.a)(e,2),s=t[0],n=t[1],c=Object(T.c)($),r=Object(T.c)(ee),o=Object(a.useState)([]),i=Object(g.a)(o,2),l=i[0],j=i[1],u=Object(T.c)(U);Object(a.useEffect)((function(){c&&q.collection("channels").doc(c).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return j(e.docs.map((function(e){return e.data()})))}))}),[c]);return Object(p.jsxs)("div",{className:"chat",children:[Object(p.jsxs)("div",{className:"chat_header",children:[Object(p.jsxs)("h3",{children:["# ",r||"Select channel"]}),Object(p.jsxs)("div",{className:"chat_header_icons",children:[Object(p.jsx)(d.a,{title:"Member List",children:Object(p.jsx)(le.a,{})}),Object(p.jsx)(d.a,{title:"Help",children:Object(p.jsx)(ue.a,{})})]})]}),Object(p.jsxs)("div",{className:"chat_messages",id:"chat_messages",children:[l.map((function(e,t){return Object(p.jsx)(fe,{id:e.user.uid,photo:e.user.photo,timestamp:e.timestamp,user:e.user,message:e.message},t)})),function(e){var t=document.getElementById(e);t&&(t.scrollTop=t.scrollHeight-t.clientHeight)}("chat_messages")]}),Object(p.jsxs)("div",{className:"chat_input",children:[Object(p.jsx)(pe.a,{}),Object(p.jsx)(oe.a,{onKeyPress:function(e){"Enter"===e.code&&(e.preventDefault(),s.length>0&&(q.collection("channels").doc(c).collection("messages").add({timestamp:R.a.firestore.FieldValue.serverTimestamp(),message:ae.a.sanitize(e.target.value),user:u}),e.target.value="",n("")))},disabled:!c,onChange:function(e){n(e.target.value)},fullWidth:!0,multiline:!0,rowsMax:2,variant:"filled",label:"Message # ".concat(r),InputLabelProps:{style:{color:"gray"}},inputProps:{style:{color:"white"},minLength:1,maxLength:140}}),Object(p.jsx)(he.a,{}),Object(p.jsx)(de.a,{})]})]})}function fe(e){var t=e.timestamp,s=e.user,a=e.photo,n=e.message;return Object(p.jsxs)("div",{className:"chat_message",children:[Object(p.jsx)(m.a,{src:a}),Object(p.jsxs)("div",{className:"message_info",children:[Object(p.jsxs)("h4",{children:[s.displayName,Object(p.jsx)("span",{className:"chat_timestamp",children:new Date(null===t||void 0===t?void 0:t.toDate()).toUTCString()})]}),Object(p.jsx)("p",{children:n})]})]})}s(117);var ve=s(89),ge=s.n(ve),Ne=[{user:{role:"Owner",name:"MichalZard",status:"Developing project"}},{user:{role:"Vips",name:"test",status:"Flexing money"}},{user:{role:"Vips",name:"Wiciregord",status:"Frost DK ilvl 220"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test1",status:"Im so poor"}},{user:{role:"Owner",name:"test2",status:"overflow test of text,looks like it works"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}}],Ie=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={categories:[]},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"memberList",children:[Object(p.jsx)(ye,{role:"Owner",color:"red"}),Object(p.jsx)(ye,{role:"Vips",color:"pink"}),Object(p.jsx)(ye,{role:"Plebs",color:"lightgray"})]})}}]),s}(n.a.Component),ye=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).role=e.role,a.color=e.color,a.state={members:[]},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.setState({members:Ne})}},{key:"render",value:function(){var e=this,t=this.state.members.filter((function(t){return t.user.role===e.role}));return Object(p.jsxs)("div",{className:"memberCategory",style:{color:"lightgray"},children:[Object(p.jsxs)("div",{className:"memberCount",children:[this.role," ",Object(p.jsx)(ge.a,{})," ",t.length]}),Object(p.jsx)("div",{className:"membersSortedByCategory",children:t.map((function(t,s){return Object(p.jsx)(Ce,{color:e.color,name:t.user.name,status:t.user.status},s)}))})]})}}]),s}(n.a.Component),Ce=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).color=e.color,a.name=e.name,a.status=e.status,a}return Object(l.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"memberAvatar",children:[Object(p.jsx)(m.a,{}),Object(p.jsxs)("div",{className:"memberInfo",children:[Object(p.jsx)("h4",{style:{color:this.color},children:this.name}),Object(p.jsx)("p",{children:this.status})]})]})}}]),s}(n.a.Component),_e=(s(118),s(152)),Pe=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(i.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).signIn=function(){G.signInWithRedirect(X).catch((function(e){return alert(e.message)}))},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"login",children:[Object(p.jsxs)("div",{className:"login_logo",children:[" ",Object(p.jsx)("img",{})," "]}),Object(p.jsx)(_e.a,{onClick:this.signIn,children:"Sign in"})]})}}]),s}(n.a.Component),ke=Object(M.a)({reducer:{user:J,app:te}});function Se(){return Object(p.jsx)(T.a,{store:ke,children:Object(p.jsx)(we,{})})}function we(){var e=Object(T.c)(U),t=Object(T.b)();return Object(a.useEffect)((function(){G.onAuthStateChanged((function(e){t(e?W({uid:e.uid,photo:e.photoURL,email:e.email,displayName:e.displayName}):K())}))}),[t]),Object(p.jsx)("div",{className:"App",children:e?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(o.a,{}),Object(p.jsx)(v,{}),Object(p.jsx)(re,{}),Object(p.jsx)(xe,{}),Object(p.jsx)(Ie,{})]}):Object(p.jsx)(Pe,{})})}r.a.render(Object(p.jsx)(Se,{}),document.getElementById("root"))}},[[119,1,2]]]);
//# sourceMappingURL=main.f196686c.chunk.js.map