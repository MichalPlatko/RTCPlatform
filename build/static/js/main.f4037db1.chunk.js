(this.webpackJsonprtcplatform=this.webpackJsonprtcplatform||[]).push([[0],{102:function(e,t,s){},103:function(e,t,s){},110:function(e,t,s){},114:function(e,t,s){},116:function(e,t,s){},117:function(e,t,s){},118:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),c=s(14),r=s.n(c),o=(s(102),s(152)),i=s(30),l=s(24),j=s(36),u=s(35),b=(s(103),s(146)),d=s(155),m=s(156),h=s(71),O=s.n(h),p=s(4),x=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"leftsidebar",children:[Object(p.jsx)(b.a,{size:"medium",children:Object(p.jsx)(O.a,{})}),Object(p.jsx)(f,{}),Object(p.jsx)(f,{}),Object(p.jsx)(f,{}),Object(p.jsx)(f,{}),Object(p.jsx)(f,{}),Object(p.jsx)(f,{}),Object(p.jsx)(f,{})]})}}]),s}(n.a.Component),f=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"serverAvatar",children:Object(p.jsx)(d.a,{title:"Server Name",placement:"right",children:Object(p.jsx)(m.a,{})})})}}]),s}(n.a.Component),v=x,g=s(27),N=(s(110),s(63)),I=s.n(N),y=s(76),C=s.n(y),_=s(77),P=s.n(_),k=s(79),S=s.n(k),w=s(78),A=s.n(w),D=s(80),B=s.n(D),E=s(81),H=s.n(E),L=s(82),M=s.n(L),T=s(32),V=s(48),z=Object(V.b)({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),F=z.actions,W=F.login,K=F.logout,U=function(e){return e.user.user},J=z.reducer,R=s(50),Z=R.a.initializeApp({apiKey:"AIzaSyB2x8ouCyhjn1HDdZ3WSu1CXU83Tvz-HTk",authDomain:"rtcplatform-8caa4.firebaseapp.com",projectId:"rtcplatform-8caa4",storageBucket:"rtcplatform-8caa4.appspot.com",messagingSenderId:"403528315216",appId:"1:403528315216:web:83b9d24d87dec76fad7c55"}).firestore(),G=R.a.auth(),X=new R.a.auth.GoogleAuthProvider,q=Z,Q=Object(V.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,t){e.channelId=t.payload.channelId,e.channelName=t.payload.channelName}}}),Y=Q.actions.setChannelInfo,$=function(e){return e.app.channelId},ee=function(e){return e.app.channelName},te=Q.reducer;function se(e){var t=e.photo,s=e.userName,a=e.tag;return Object(p.jsxs)("div",{className:"sidebar_profile",children:[Object(p.jsx)(m.a,{className:"sidebar_profileAvatar",src:t}),Object(p.jsxs)("div",{className:"sidebar_profileInfo",children:[Object(p.jsx)("h3",{children:s}),Object(p.jsxs)("p",{children:["#",a.substring(0,5)," "]})]}),Object(p.jsxs)("div",{className:"sidebar_profileIcons",children:[Object(p.jsx)(B.a,{}),Object(p.jsx)(H.a,{}),Object(p.jsx)(M.a,{})]})]})}function ae(e){var t=e.id,s=e.name,a=Object(T.b)();return Object(p.jsx)("div",{className:"sidebarChannel",onClick:function(){a(Y({channelId:t,channelName:s}))},children:Object(p.jsxs)("h4",{children:[Object(p.jsx)("span",{className:"sidebarChannelHashIcon",children:"#"}),s]})})}var ne=function(){var e=Object(T.c)(U),t=Object(a.useState)([]),s=Object(g.a)(t,2),n=s[0],c=s[1];return Object(a.useEffect)((function(){q.collection("channels").onSnapshot((function(e){c(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),Object(p.jsxs)("div",{className:"sidebar",children:[Object(p.jsxs)("div",{className:"sidebar_top",children:[Object(p.jsx)("h3",{children:"Server Name"}),Object(p.jsx)(I.a,{className:"sidebar_expand"})]}),Object(p.jsxs)("div",{className:"sidebar_channels",children:[Object(p.jsxs)("div",{className:"sidebar_channelsHeader",children:[Object(p.jsxs)("div",{className:"sidebar_header",children:[Object(p.jsx)(I.a,{}),Object(p.jsx)("h4",{children:"Text Channels"})]}),Object(p.jsx)(C.a,{onClick:function(){var e=prompt("Add Channel Name");e&&q.collection("channels").add({name:e})},className:"sidebar_addChannel"})]}),Object(p.jsx)("div",{className:"sidebar_channelsList",children:n.map((function(e){return Object(p.jsx)(ae,{id:e.id,name:e.channel.name},e.id)}))})]}),Object(p.jsxs)("div",{className:"sidebar_voice",children:[Object(p.jsx)(P.a,{className:"sidebar_voiceIcon"}),Object(p.jsxs)("div",{className:"sidebar_voiceInfo",children:[Object(p.jsx)("h3",{children:"Voice Connected"}),Object(p.jsx)("p",{children:"Channel name"})]}),Object(p.jsxs)("div",{className:"sidebar_voiceControl",children:[Object(p.jsx)(A.a,{}),Object(p.jsx)(S.a,{})]})]}),Object(p.jsx)(se,{photo:e.photo,userName:e.displayName,tag:e.uid})]})},ce=(s(114),s(153)),re=s(83),oe=s.n(re),ie=s(84),le=s.n(ie),je=s(87),ue=s.n(je),be=s(86),de=s.n(be),me=s(85),he=s.n(me);function Oe(){var e=Object(a.useState)(""),t=Object(g.a)(e,2),s=t[0],n=t[1],c=Object(T.c)($),r=Object(T.c)(ee),o=Object(a.useState)([]),i=Object(g.a)(o,2),l=i[0],j=i[1],u=Object(T.c)(U);return Object(a.useEffect)((function(){c&&q.collection("channels").doc(c).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return j(e.docs.map((function(e){return e.data()})))}))}),[c]),Object(p.jsxs)("div",{className:"chat",children:[Object(p.jsxs)("div",{className:"chat_header",children:[Object(p.jsxs)("h3",{children:["# ",r||"Select channel"]}),Object(p.jsxs)("div",{className:"chat_header_icons",children:[Object(p.jsx)(d.a,{title:"Member List",children:Object(p.jsx)(oe.a,{})}),Object(p.jsx)(d.a,{title:"Help",children:Object(p.jsx)(le.a,{})})]})]}),Object(p.jsx)("div",{className:"chat_messages",children:l.map((function(e,t){return Object(p.jsx)(pe,{id:e.user.uid,photo:e.user.photo,timestamp:e.timestamp,user:e.user,message:e.message},t)}))}),Object(p.jsxs)("div",{className:"chat_input",children:[Object(p.jsx)(he.a,{}),Object(p.jsx)(ce.a,{onKeyPress:function(e){"Enter"===e.code&&(e.preventDefault(),s.length>0&&(q.collection("channels").doc(c).collection("messages").add({timestamp:R.a.firestore.FieldValue.serverTimestamp(),message:e.target.value,user:u}),e.target.value="",n("")))},disabled:!c,onChange:function(e){n(e.target.value)},fullWidth:!0,multiline:!0,rowsMax:2,variant:"filled",label:"Message # ".concat(r),InputLabelProps:{style:{color:"gray"}},inputProps:{style:{color:"white"}}}),Object(p.jsx)(de.a,{}),Object(p.jsx)(ue.a,{})]})]})}function pe(e){var t=e.timestamp,s=e.user,a=e.photo,n=e.message;return Object(p.jsxs)("div",{className:"chat_message",children:[Object(p.jsx)(m.a,{src:a}),Object(p.jsxs)("div",{className:"message_info",children:[Object(p.jsxs)("h4",{children:[s.displayName,Object(p.jsx)("span",{className:"chat_timestamp",children:new Date(null===t||void 0===t?void 0:t.toDate()).toUTCString()})]}),Object(p.jsx)("p",{children:n})]})]})}s(116);var xe=s(88),fe=s.n(xe),ve=[{user:{role:"Owner",name:"MichalZard",status:"Developing project"}},{user:{role:"Vips",name:"test",status:"Flexing money"}},{user:{role:"Vips",name:"Wiciregord",status:"Frost DK ilvl 220"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test1",status:"Im so poor"}},{user:{role:"Owner",name:"test2",status:"overflow test of text,looks like it works"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}},{user:{role:"Plebs",name:"test2",status:"Im so poor"}}],ge=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={categories:[]},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"memberList",children:[Object(p.jsx)(Ne,{role:"Owner",color:"red"}),Object(p.jsx)(Ne,{role:"Vips",color:"pink"}),Object(p.jsx)(Ne,{role:"Plebs",color:"lightgray"})]})}}]),s}(n.a.Component),Ne=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).role=e.role,a.color=e.color,a.state={members:[]},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.setState({members:ve})}},{key:"render",value:function(){var e=this,t=this.state.members.filter((function(t){return t.user.role===e.role}));return Object(p.jsxs)("div",{className:"memberCategory",style:{color:"lightgray"},children:[Object(p.jsxs)("div",{className:"memberCount",children:[this.role," ",Object(p.jsx)(fe.a,{})," ",t.length]}),Object(p.jsx)("div",{className:"membersSortedByCategory",children:t.map((function(t,s){return Object(p.jsx)(Ie,{color:e.color,name:t.user.name,status:t.user.status},s)}))})]})}}]),s}(n.a.Component),Ie=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).color=e.color,a.name=e.name,a.status=e.status,a}return Object(l.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"memberAvatar",children:[Object(p.jsx)(m.a,{}),Object(p.jsxs)("div",{className:"memberInfo",children:[Object(p.jsx)("h4",{style:{color:this.color},children:this.name}),Object(p.jsx)("p",{children:this.status})]})]})}}]),s}(n.a.Component),ye=(s(117),s(151)),Ce=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(i.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).signIn=function(){G.signInWithRedirect(X).catch((function(e){return alert(e.message)}))},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"login",children:[Object(p.jsxs)("div",{className:"login_logo",children:[" ",Object(p.jsx)("img",{})," "]}),Object(p.jsx)(ye.a,{onClick:this.signIn,children:"Sign in"})]})}}]),s}(n.a.Component),_e=Object(V.a)({reducer:{user:J,app:te}});function Pe(){return Object(p.jsx)(T.a,{store:_e,children:Object(p.jsx)(ke,{})})}function ke(){var e=Object(T.c)(U),t=Object(T.b)();return Object(a.useEffect)((function(){G.onAuthStateChanged((function(e){t(e?W({uid:e.uid,photo:e.photoURL,email:e.email,displayName:e.displayName}):K())}))}),[t]),Object(p.jsx)("div",{className:"App",children:e?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(o.a,{}),Object(p.jsx)(v,{}),Object(p.jsx)(ne,{}),Object(p.jsx)(Oe,{}),Object(p.jsx)(ge,{})]}):Object(p.jsx)(Ce,{})})}r.a.render(Object(p.jsx)(Pe,{}),document.getElementById("root"))}},[[118,1,2]]]);
//# sourceMappingURL=main.f4037db1.chunk.js.map